<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link href="/../css/wa10.style.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet">
    <title>Silly story generator</title>
    </head>

  <body>
    <div>
      <label for="customname">Enter custom name:</label>
      <input id="customname" type="text" placeholder="Mine is JJ" />
    </div>
    <div>
      <label for="us">US</label>
      <input id="us" type="radio" name="ukus" value="us" checked />
      <label for="uk">UK</label>
      <input id="uk" type="radio" name="ukus" value="uk" />
    </div>
    <div>
      <button class="randomize">Generate random story</button>
    </div>
    
    <p class="story"></p>

    <script>
        const customName = document.getElementById('customname');
        const randomize = document.querySelector('.randomize');
        const story = document.querySelector('.story');

        function randomValueFromArray(array){
        const random = Math.floor(Math.random()*array.length);
        return array[random];
        }

        const storyText = "It was 94 fahrenheit outside, so :insertx: went for a walk. When they got to :inserty:, they stared in awe for a few moments, then :insertz:. Bob saw the whole thing, but was not surprised â€” :insertx: was carrying 100 pounds of food and drinks, and it was a hot day."
        const insertX = ["Jack Anthony", "Big Daddy", "Coach Prime"];
        const insertY = ["campus","Folsom field", "the White House"];
        const insertZ = ["spontaneously started crying", "set Farrand field on fire", "turned away and fell in a hole"];
    
        randomize.addEventListener('click', result);

        function result () {
            let newStory = storyText;
            const xItem = randomValueFromArray (insertX);
            const yItem = randomValueFromArray (insertY);
            const zItem = randomValueFromArray (insertZ);

            newStory = newStory.replaceAll(":insertx:", xItem);
            newStory = newStory.replaceAll(":inserty:", yItem);
            newStory = newStory.replaceAll(":insertz:", zItem);

            if(customName.value !== ''){
                const name = customName.value;
                newStory = newStory.replace("Bob", name);
            }
            
            if(document.getElementById("uk").checked) {
                const weight= Math.round(300/14) + " stone";
                const temperature = Math.round((94-32 * 5/9)) + " centigrade";
                newStory = newStory.replace("100 pounds", weight);
                newStory = newStory.replace("94 fahrenheit", temperature); 
            }
            story.textContent = newStory;
            story.style.visibility = "visible";


        }
    </script>
 
</body>


